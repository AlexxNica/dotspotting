<html>
    <head>
        <title>Dotspotting: Embedded Themes</title>
        <script type="text/javascript" src="javascript/jquery-1.5.min.js"></script>
        <script type="text/javascript" defer="defer">
            $(function() {
                $("textarea").click(function() {
                    $(this).select();
                });
            });
        </script>
        <style type="text/css" media="screen">
            /* TODO: replace with relative reference */
            @import url(http://dotspotting.org/css/main.css);

            ul {
                padding-left: 1.8em;
                margin-left: 0;
            }
            ul, ul li {
                list-style: square;
            }

            textarea {
                display: block;
                width: 100%;
                height: auto;
                min-height: 4em;
                margin: 0 0 20px 0;
                word-wrap: break-word;
            }

            iframe {
                width: 100%;
                height: 400px;
                overflow: hidden;
                border: 1px dotted #000;
                margin: 0 0 20px 0;
            }

            #crime iframe {
                width: 400px;
                height: 400px;
            }

            .example { clear: both; }

            .example iframe {
                float: left;
                margin-right: 10px;
            }
            .example textarea {
                width: 400px;
                height: 400px;
            }


            h3 { clear: both; }

            .crime { color: #fff; padding: 0 3px 2px; }
            .violent { background: #D90000; }
            .property { background:  #23965E; }
            .qol { background: #3489BA; }
            .unknown { background: #D9A200; }

        </style>
    </head>
    <body>
        <div id="main">
            <div id="nav" class="clearfix">
                <div id="nav_logo" class="alt_logo">
                    <a href="http://dotspotting.org/"><img src="http://dotspotting.org/images/dotspotting_logo.png" height="61" width="292" alt="Dotspotting" class="logo" /></a>
                </div>
            </div>

            <div id="content">
                <div id="section_about" class="section_bunch_o_text">

                    <div class="theme" id="crime">
                        <h2>Crime</h2>
                        <p>The "crime" theme displays a pannable and zoomable
                        map in the style of <a href="http://oakland.crimespotting.org/">Crimespotting</a>,
                        with dots colored according to three broad crime type
                        categories:</p>

                        <ul>
                            <li><strong class="crime violent">violent</strong></li>
                            <li><strong class="crime property">property</strong></li>
                            <li><strong class="crime qol">quality of life</strong></li>
                        </ul>

                        <p>Dots with <strong class="crime unknown">unrecognized</strong>
                        crime type categories are colored yellow.</p>

                        <h3>Examples</h3>
                        <div class="example">
                            <p>Embed a single sheet's dots with a custom title, and a fixed start location:</p>
                            <iframe width="400" height="400" src="crime/index.html?user=206&amp;sheet=881&amp;title=Mission+Local+Crimes+June+1-4,+2011#14/37.7603/-122.4149"></iframe>
                            <textarea>&lt;iframe width="400" height="400" src="http://dotspotting.org/embed/crime/?user=206&amp;sheet=881&amp;title=Mission+Local+Crimes+June+1-4,+2011#14/37.7603/-122.4149"&gt;&lt;/iframe&gt;</textarea>
                        </div>

                        <div class="example">
                            <p>Embed a sheet's dots with a search filter
                            showing only dots with the "crime type" field equal to "THEFT":</p>
                            <iframe width="400" height="400" src="crime/index.html?user=206&amp;sheet=881&amp;search=crime+type:THEFT&amp;title=Mission+Thefts,+June+1-4,+2011"></iframe>
                            <textarea>&lt;iframe width="400" height="400" src="http://dotspotting.org/embed/crime/?user=206&amp;sheet=881&amp;search=crime+type:THEFT&amp;title=Mission+Thefts,+June+1-4,+2011"&gt;&lt;/iframe&gt;</textarea>
                        </div>

                        <h3>Instructions</h3>

                        <p>You can embed the map using an html <a href="http://www.w3.org/wiki/HTML/Elements/iframe"><tt>&lt;iframe&gt;</tt></a>
                        with the <tt>src</tt> attribute of:</p>
<textarea>
http://dotspotting.org/embed/crime/
</textarea>
                        <p>and the following <a href="http://en.wikipedia.org/wiki/Query_string">query string</a> parameters:</p>

                        <ul>
                            <li><tt>user</tt>: a Dotspotting user ID. You can
                            find the user ID of a sheet's owner in the URL,
                            after the <tt>/u/</tt> part and before the <tt>/sheets/</tt> part:
<pre>http://dotspotting.org/u/<u>206</u>/sheets/881
                        (206)</pre></li>
                            <li><tt>sheet</tt>: a Dotspotting <a href="http://dotspotting.org/faq/#sheets">sheet ID</a>, which you can after the <tt>/sheets/</tt> part of a sheet's URL:
<pre>http://dotspotting.org/u/206/sheets/<u>881</u>
                                   (881)</pre></li>
                            <li><tt>title</tt> (optional): the title to display along the top of the frame</li>
                            <li><tt>search</tt> (optional): the Dotspotting <a href="http://dotspotting.org/faq/#search">search query</a></li>
                        </ul>

                        <p>You can also specify the initial map zoom and
                        center by appending a <a href="http://en.wikipedia.org/wiki/Fragment_identifier">fragment identifier</a>
                        onto the URL in the following form:

                        <pre>#{zoom}/{latitude}/{longitude}</pre>

                        <p>where <tt>zoom</tt> is a whole number between 10
                        and 17 (the minimum and maximum allowed zoom levels
                        of the map), <tt>latitude</tt> is a decimal number
                        between -85 and 85, and <tt>longitude</tt> is a
                        decimal number between -180 and 180. 
                        <a href="http://www.getlatlon.com/">Get Lat Lon</a>
                        can help you find the zoom, latitude and longitude of
                        most places.</p>

                        <h3>Fields</h3>

                        <p>The crime theme assumes that each of your dots has the following fields defined:</p>
                        <ul>
                            <li><strong>"crime type"</strong>: The specific
                            crime type, as defined by <a href="http://oakland.crimespotting.org">Crimespotting</a>.
                            Recognized (case-insensitive) values are:
                                <ul>
                                    <li><span class="crime violent">Aggravated Assault</span></li>
                                    <li><span class="crime violent">Simple Assault</span></li>
                                    <li><span class="crime violent">Murder</span> or <span class="crime violent">Homicide</span></li>
                                    <li><span class="crime violent">Robbery</span></li>
                                    <li><span class="crime qol">Disturbing the Peace</span></li>
                                    <li><span class="crime qol">Drugs</span> or <span class="crime qol">Narcotics</span></li>
                                    <li><span class="crime qol">Alcohol</span></li>
                                    <li><span class="crime qol">Prostitution</span></li>
                                    <li><span class="crime property">Theft</span></li>
                                    <li><span class="crime property">Vehicle Theft</span></li>
                                    <li><span class="crime property">Vandalism</span></li>
                                    <li><span class="crime property">Burglary</span></li>
                                    <li><span class="crime property">Arson</span></li>
                                </ul>
                                All other values are displayed as <span class="crime unknown">unknown</span>.
                            </li>

                            <li><strong>"description"</strong> or
                            <strong>"crime description"</strong>: The crime
                            description, listed in the tooltip.</li>

                            <li><strong>"date"</strong> and <strong>"time"</strong>:
                            The crime date and time, with no formatting in
                            particular. These values are listed underneath
                            the description in a slightly darker color.</li>
                        </ul>

                    </div>

                </div>
            </div>
        </div>
    </body>
</html>

